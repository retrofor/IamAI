<p align="center"><img width="128" src="https://iamai.retrofor.space/retro.png"></p>
<h1 align="center">
  iamai
</h1>
<p align="center">
  跨平台机器人框架 | 专为ML/DL而生
</p>
<p align="center">
    <img src="https://img.shields.io/badge/docs-20230309-green?style=flat-square" alt="Website" href="https://iamai.retrofor.space" target="_blank"/>
    <img src="https://img.shields.io/badge/playgroud-live-green?style=flat-square" alt="Website" href="https://playground.retrofor.space/iamai" target="_blank"/>
  <br>
  <a href="https://pypi.python.org/pypi/iamai">
    <img src="https://img.shields.io/pypi/v/iamai?style=flat-square" alt="pypi">
  </a>
  <img src="https://img.shields.io/badge/python-3.8+-blue?style=flat-square" alt="python">
  <br>
  <img src="https://results.pre-commit.ci/badge/github/retrofor/iamai/main.svg">
  <br>
    <a style="text-decoration:none" href="https://www.codacy.com/gh/retrofor/iamai/dashboard?utm_source=github.com&utm_medium=referral&utm_content=retrofor/iamai&utm_campaign=Badge_Gradee" target="_blank">
    <img src="https://app.codacy.com/project/badge/Grade/f3611d85db764236b65fac956bdb53df" alt="Codacy Badge" />
  </a>
</p>
<p align="center">
</p>
<p align="center">
<!-- onebot -->
  <a style="text-decoration:none" href="https://onebot.dev" target="_blank">
    <img src="https://img.shields.io/badge/-Onebot%2011-000020?style=flat-square&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAABwCAMAAADxPgR5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAxQTFRF////29vbr6+vAAAAk1hCcwAAAAR0Uk5T////AEAqqfQAAAKcSURBVHja7NrbctswDATQXfD//zlpO7FlmwAWIOnOtNaTM5JwDMa8E+PNFz7g3waJ24fviyDPgfhz8fHP39cBcBL9KoJbQUxjA2iYqHL3FAnvzhL4GtVNUcoSZe6eSHizBcK5LL7dBr2AUZlev1ARRHCljzRALIEog6H3U6bCIyqIZdAT0eBuJYaGiJaHSjmkYIZd+qSGWAQnIaz2OArVnX6vrItQvbhZJtVGB5qX9wKqCMkb9W7aexfCO/rwQRBzsDIsYx4AOz0nhAtWu7bqkEQBO0Pr+Ftjt5fFCUEbm0Sbgdu8WSgJ5NgH2iu46R/o1UcBXJsFusWF/QUaz3RwJMEgngfaGGdSxJkE/Yg4lOBryBiMwvAhZrVMUUvwqU7F05b5WLaUIN4M4hRocQQRnEedgsn7TZB3UCpRrIJwQfqvGwsg18EnI2uSVNC8t+0QmMXogvbPg/xk+Mnw/6kW/rraUlvqgmFreAA09xW5t0AFlHrQZ3CsgvZm0FbHNKyBmheBKIF2cCA8A600aHPmFtRB1XvMsJAiza7LpPog0UJwccKdzw8rdf8MyN2ePYF896LC5hTzdZqxb6VNXInaupARLDNBWgI8spq4T0Qb5H4vWfPmHo8OyB1ito+AysNNz0oglj1U955sjUN9d41LnrX2D/u7eRwxyOaOpfyevCWbTgDEoilsOnu7zsKhjRCsnD/QzhdkYLBLXjiK4f3UWmcx2M7PO21CKVTH84638NTplt6JIQH0ZwCNuiWAfvuLhdrcOYPVO9eW3A67l7hZtgaY9GZo9AFc6cryjoeFBIWeU+npnk/nLE0OxCHL1eQsc1IciehjpJv5mqCsjeopaH6r15/MrxNnVhu7tmcslay2gO2Z1QfcfX0JMACG41/u0RrI9QAAAABJRU5ErkJggg==&logoColor=white" alt="onebotv11" />
    <!-- github -->
    <img src="https://img.shields.io/badge/-github-181717?style=flat-square&logo=github&logoColor=white">
    <!-- discord -->
    <img src="https://img.shields.io/badge/-Discord-5865F2?style=flat-square&logo=Discord&logoColor=white">
    <br>
    <!-- bilibili live -->
    <img src="https://img.shields.io/badge/-BiliBili Live-00A1D6?style=flat-square&logo=Bilibili&logoColor=white">
    <!-- mirai-api-http -->
    <img src="https://img.shields.io/badge/-Mirai%20api%20http%202.3+-00B8AA?style=flat-square">
    <!-- dingtalk -->
    <img src="https://img.shields.io/badge/-DingTalk-blue?style=flat-square">
    <!-- qqzone -->
    <img src="https://img.shields.io/badge/-QQ%20Zone-FECC00?style=flat-square&logo=Tencent QQ&logoColor=black">
    <br>
    <!-- minecraft -->
    <img src="https://img.shields.io/badge/-Minecraft Server-62B47A?style=flat-square&logo=Minecraft&logoColor=white">
    <!-- twitter -->
    <img src="https://img.shields.io/badge/-Twitter-1DA1F2?style=flat-square&logo=twitter&logoColor=white">
    <!-- console -->
    <img src="https://img.shields.io/badge/-Console-4EAA25?style=flat-square&logo=GNU bash&logoColor=white">
    <!-- wechat -->
    <img src="https://img.shields.io/badge/-Wechat-07C160?style=flat-square&logo=wechat&logoColor=white">
    <!-- tg -->
    <img src="https://img.shields.io/badge/-Telegram-26A5E4?style=flat-square&logo=telegram&logoColor=white">
  </a>
</p>
<p align="center">
</p>
<p align="center">
  <img src="https://img.shields.io/github/forks/retrofor/iamai?style=social" >
  <img src="https://img.shields.io/github/stars/retrofor/iamai?style=social" >
  <br>
  <img src="https://img.shields.io/github/watchers/retrofor/iamai?style=social" >
  <img src="https://img.shields.io/github/search/retrofor/iamai/goto?style=social" >
  <br>
  <img src="https://img.shields.io/github/repo-size/retrofor/iamai?style=social" >
  <img src="https://img.shields.io/github/languages/top/retrofor/iamai?style=social" >
</p>

## 📘 简介

跨平台机器人框架，主要用于机器学习。

## 🚀 特性

- 🎪 **交互式 [docs](https://iamai.retrofor.space) &amp; [demos](https://iamai.retrofor.space/demos)**。
- 🕶 **完美缝合**: **同时**适用 [Rasa]() 与 [GPT]() 以及更多模型...
<!-- - ⚡ **Fully tree shakeable**: Only take what you want, [bundle size](https://iamai.retrofor.space/export-size) -->
- 🔩 **灵活**: 可配置的事件过滤器和对象。
- 🔌 **可选 [扩展](https://iamai.retrofor.space/add-ons)**: [Apscheduler](https://iamai.retrofor.space/add-ons/apscheduler) 以及更多...
- 👍 **跨平台**: [QQ](https://iamai.retrofor.space/adapters/onebot), [微信](https://iamai.retrofor.space/adapters/wechat), [推特](https://iamai.retrofor.space/adapters/twitter), [B站](https://iamai.retrofor.space/adapters/bilibili), [Github](https://iamai.retrofor.space/adapters/github), 以及更多...

<p align="center"><img width="512" src="https://iamai.retrofor.space/logo.png"></p>

## ⬇️ 安装

- 稳定版本
  ```sh
  pip install iamai
  ```

或者你也可以使用test镜像安装一些用于测试的版本：

- 测试版本
  ```sh
  pip install -i https://test.pypi.org/simple/ iamai
  ```

## ❗ 使用

首先你需要有一个适配器与IamAI连接。


```python
from iamai import Bot

bot = Bot()
bot.load_adapters("iamai.adapter.cqhttp")

bot.run()
```

接着导入transformer以及你的模型，

**使用🤗/transformers 库**

```python
from transformers import AutoModelWithLMHead, AutoTokenizer
# 加载模型
model = AutoModelWithLMHead.from_pretrained("gpt2")
# 加载tokenizer
tokenizer = AutoTokenizer.from_pretrained("gpt2")
# 将文本转换为token
input_ids = tokenizer.encode("Hello, my name is IamAI!", add_special_tokens=True)
# 将token输入模型
outputs = model.generate(input_ids)
# 获取生成的文本
generated_text = tokenizer.decode(outputs[0])
```

你可以使用预制的优化器加快模型调用速度，当然也可以自己编写，但要注意，transformer模型优化器是一种特殊的优化器，它可以用来优化transformer模型的参数，从而提高模型的性能。

要编写一个transformer模型优化器，需要了解优化器的原理，并熟悉transformer模型的结构。

优化器的原理可以参考论文[《Attention Is All You Need》](https://arxiv.org/abs/1706.03762)，transformer模型的结构可以参考论文[《Transformer: A Novel Neural Network Architecture for Language Understanding》](https://ai.googleblog.com/2017/08/transformer-novel-neural-network.html?m=1)，优化器的实现可以参考huggingface的transformers库中的[AdamW优化器](https://huggingface.co/transformers/v3.0.2/main_classes/optimizer_schedules.html)。

**使用Inference API**

```python
import requests

API_URL = "https://api-inference.huggingface.co/models/xxx/xxxxx"
headers = {"Authorization": "Bearer xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}

def query(payload):
	response = requests.post(API_URL, headers=headers, json=payload)
	return response.json()

output = query({
	"inputs": "xxx",
})
```

## 👀 文档

> 多个镜像可供选择。

- <https://iamai.retrofor.space> _(推荐)_
- <https://iamai-docs-git-main-retrofor.vercel.app>
- ~~<https://iamai-docs-retrofor.vercel.app/>~~

## ✨ 项目公示板

![Alt](https://repobeats.axiom.co/api/embed/cc9b8bded331c406e68cc0c7c294ef04122d6da2.svg "Repobeats analytics image")

## 👨‍🚀 贡献者

<a href="https://github.com/retrofor/iamai/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=retrofor/iamai" />
</a>

## 📄 协议

[MIT](https://github.com/retrofor/iamai/blob/main/LICENSE) © 2023-PRESENT [简律纯](https://github.com/HsiangNianian)
